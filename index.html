<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DigitStore ‚Äî R…ôq…ômsal M…ôhsullar</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    /* Landing / Hero */
    .hero {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      align-items: center;
      padding: 4rem 2rem;
      max-width: 1200px;
      margin: auto;
    }
    @media (max-width: 768px) {
      .hero {
        grid-template-columns: 1fr;
        text-align: center;
      }
    }
    .hero h1 {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 1rem;
      color: var(--pri);
    }
    .hero p {
      font-size: 1.1rem;
      color: var(--muted);
      margin-bottom: 2rem;
    }
    .hero-actions {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .hero-img {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .hero-img img {
      max-width: 100%;
      border-radius: var(--br);
      box-shadow: var(--shadow-lg);
    }

    /* Trend M…ôhsullar */
    .section {
      max-width: 1200px;
      margin: 3rem auto;
      padding: 0 2rem;
    }
    .section h2 {
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
      font-weight: 700;
    }
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.5rem;
    }
    .product-card {
      background: var(--card);
      border: 1px solid #1f2937;
      border-radius: var(--br);
      padding: 1.5rem;
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
    }
    .product-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }
    .product-card h3 {
      font-size: 1.2rem;
      margin-bottom: .5rem;
    }
    .product-card .price {
      margin-top: .5rem;
    }

    /* Stats Row */
    .stats-row {
      max-width: 1000px;
      margin: 3rem auto;
      padding: 0 2rem;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1.5rem;
    }
    .stat-item {
      text-align: center;
      padding: 1.5rem;
      background: var(--card);
      border: 1px solid #1f2937;
      border-radius: var(--br);
    }
    .stat-number {
      font-size: 2rem;
      font-weight: 800;
      color: var(--pri);
      margin-bottom: .5rem;
    }
    .stat-label {
      color: var(--muted);
      font-size: .9rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
  </style>

</head>
<body>
  <header>
    <div class="wrap nav">
      <div class="brand">
        <svg width="26" height="26" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2l7 4v6c0 5-3 8-7 10C8 20 5 17 5 12V6l7-4Z" fill="#60a5fa"/>
        </svg>
        <span>DigitStore.az</span>
        <span class="chip" id="roleChip">Qonaq</span>
      </div>

      <button class="mobile-menu-toggle" onclick="document.querySelector('.menu').classList.toggle('active')">
        ‚ò∞
      </button>

      <div class="menu">
        <button class="ghost" onclick="show('landing')">Ana s…ôhif…ô</button>
        <button class="ghost" onclick="show('home')">M…ôhsullar</button>
        <button class="ghost" onclick="show('about')">Haqqƒ±mƒ±zda</button>
        <button class="ghost" onclick="show('cart')">S…ôb…ôt (<span id="cartCount">0</span>)</button>
        <button class="ghost hidden" id="sellerMenu" onclick="show('seller')">Satƒ±cƒ± Paneli</button>
        <button class="ghost hidden" id="adminMenu" onclick="show('admin')">Admin</button>
        <div class="spacer"></div>
        <button id="loginBtn" onclick="show('auth')">Daxil ol</button>
        <button id="logoutBtn" class="hidden" onclick="logout()">√áƒ±xƒ±≈ü</button>
      </div>
    </div>
  </header>

<!-- YENƒ∞ ANA S∆èHƒ∞F∆è / LANDING -->
<section id="landing">
  <!-- Hero -->
  <div class="hero">
    <div class="hero-content">
      <h1>R…ôq…ômsal M…ôhsullar, Sad…ôc…ô bir Klikl…ô</h1>
      <p>S√ºr…ôtli y√ºkl…ôm…ô, t…ôhl√ºk…ôsiz √∂d…ôni≈ü v…ô y√ºzl…ôrl…ô se√ßim ‚Äî hamƒ±sƒ± DigitStore.az-da.</p>
      <div class="hero-actions">
        <button class="primary" onclick="show('home')">M…ôhsullara bax</button>
        <button class="ghost" onclick="show('auth')">Qeydiyyatdan ke√ß</button>
      </div>
    </div>
    <div class="hero-img">
      <img src="img/hero-img.png" alt="DigitStore Preview">
    </div>
  </div>

  <!-- Trend M…ôhsullar -->
  <div class="section">
    <h2>Trend M…ôhsullar</h2>
    <div id="trendingProducts" class="grid"></div>
  </div>

  <!-- Stats -->
  <div class="stats-row">
    <div class="stat-item">
      <div class="stat-number" id="heroProducts">200+</div>
      <div class="stat-label">M…ôhsul</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="heroSellers">80+</div>
      <div class="stat-label">Satƒ±cƒ±</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="heroDownloads">100K+</div>
      <div class="stat-label">Y√ºkl…ôm…ô</div>
    </div>
  </div>
</section>




  <main class="wrap">
    <!-- HOME / CATALOG -->
    <section id="home" class="card">
      <div class="flex">
        <h2>M…ôhsullar</h2>
        <span class="tag">R…ôq…ômsal m…ôhsullar</span>
        <div class="spacer"></div>
        <input id="q" placeholder="Axtarƒ±≈ü: e-kitab, kurs, audio..." oninput="renderProducts()" style="max-width:300px">
      </div>
      <div class="filter-bar">
        <select id="categoryFilter" onchange="renderProducts()">
          <option value="">B√ºt√ºn kateqoriyalar</option>
          <option value="e-kitab">E-kitab</option>
          <option value="audiokitab">Audiokitab</option>
          <option value="video kurs">Video kurs</option>
          <option value="dizayn">Dizayn</option>
          <option value="script">Script</option>
        </select>
        <select id="priceFilter" onchange="renderProducts()">
          <option value="">Qiym…ôt aralƒ±ƒüƒ±</option>
          <option value="0-5">0-5 AZN</option>
          <option value="5-15">5-15 AZN</option>
          <option value="15-50">15-50 AZN</option>
          <option value="50+">50+ AZN</option>
        </select>
      </div>
      <div id="catalog" class="grid"></div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="card hidden">
      <div class="about-hero">
        <h1>DigitStore.az haqqƒ±nda</h1>
        <p class="lead">Az…ôrbaycanda …ôn b√∂y√ºk r…ôq…ômsal m…ôhsullar platformasƒ±</p>
      </div>
      
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üìö</div>
          <h3>E-kitablar</h3>
          <p>Mingl…ôrl…ô e-kitab, t…ôlimat v…ô b…ôl…ôd√ßi</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üìú</div>
          <h3>Scriptl…ôr</h3>
          <p>Profesional ≈ü…ôkild…ô hazƒ±rlanmƒ±≈ü hazƒ±r scriptl…ôr</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üéµ</div>
          <h3>Audio m…ôzmun</h3>
          <p>Y√ºks…ôk keyfiyy…ôtli audiokitablar</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üé•</div>
          <h3>Video kurslar</h3>
          <p>Pe≈ü…ôkar t…ôlim√ßil…ôrd…ôn √∂yr…ônin</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üé®</div>
          <h3>Dizayn ≈üablonlarƒ±</h3>
          <p>Yaradƒ±cƒ± layih…ôl…ôr √º√ß√ºn hazƒ±r ≈üablonlar</p>
        </div>
      </div>

      <div class="mission-section">
        <h2>Missiyamƒ±z</h2>
        <p>DigitStore olaraq, keyfiyy…ôtli r…ôq…ômsal m…ôhsullarƒ± …ôl√ßatan qiym…ôtl…ôrl…ô t…ôqdim etm…ôk v…ô yerli yaradƒ±cƒ±lara g…ôlir …ôld…ô etm…ôk imkanƒ± yaratmaq missiyasƒ±nƒ± da≈üƒ±yƒ±rƒ±q.</p>
        
        <div class="stats-row">
          <div class="stat-item">
            <div class="stat-number" id="totalProducts">0</div>
            <div class="stat-label">M…ôhsul</div>
          </div>
          <div class="stat-item">
            <div class="stat-number" id="totalSellers">0</div>
            <div class="stat-label">Satƒ±cƒ±</div>
          </div>
          <div class="stat-item">
            <div class="stat-number" id="totalOrders">0</div>
            <div class="stat-label">Sifari≈ü</div>
          </div>
        </div>
      </div>

      <div class="contact-section">
        <h2>∆èlaq…ô</h2>
        <div class="contact-grid">
          <div class="contact-item">
            <strong>Email:</strong> digitstore-az@gmail.com
          </div>
          <div class="contact-item">
            <strong>Telefon:</strong> +994 51 407 ‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢
          </div>
          <div class="contact-item">
            <strong>√únvan:</strong> Bakƒ±, Az…ôrbaycan
          </div>
        </div>
      </div>
    </section>

    <!-- CART -->
    <section id="cart" class="card hidden">
      <div class="flex">
        <h2>S…ôb…ôt</h2>
        <div class="spacer"></div>
        <button class="ghost" onclick="clearCart()">T…ômizl…ô</button>
      </div>
      <div id="cartList"></div>
      <div class="cart-summary">
        <div class="summary-row">
          <span>M…ôhsullar:</span>
          <span id="cartSubtotal">0 AZN</span>
        </div>
        <div class="summary-row total">
          <span>C…ômi:</span>
          <span class="price" id="cartTotal">0 AZN</span>
        </div>
      </div>
      <div class="payment-notice">
        <h3>√ñd…ôni≈ü t…ôlimatlarƒ±</h3>
        <p>Kartdan karta k√∂√ß√ºrm…ô il…ô √∂d…ôni≈ü edin:</p>
        <div class="payment-card">
          <div class="card-number">4127 2093 0965 0684</div>
          <div class="card-name">E.S(abb)</div>
        </div>
        <p class="muted">√ñd…ôni≈ü etdikd…ôn sonra √ßeki y√ºkl…ôyin v…ô t…ôsdiq g√∂zl…ôyin.Saxta √ßek g√∂nd…ôrildikd…ô v…ô ya bo≈ü sorƒüular d√ºzg√ºn olmayan m…ôlumatlar g√∂nd…ôrildikd…ô imtina statusu veril…ôc…ôk.</p>
      </div>
      <div class="flex payment-actions">
        <button class="primary" onclick="startPayment()" id="paymentBtn">√ñd…ôni≈ü et</button>
      </div>
      <div id="orderResult"></div>
    </section>

    <!-- PAYMENT -->
    <section id="payment" class="card hidden">
      <h2>√ñd…ôni≈ü t…ôsdiqi</h2>
      <div class="payment-form">
        <div class="payment-summary">
          <h3>Sifari≈ü m…ôlumatlarƒ±</h3>
          <div id="paymentOrderDetails"></div>
          <div class="total-amount">
            <span>√ñd…ônil…ôc…ôk m…ôbl…ôƒü: </span>
            <span class="price" id="paymentTotal">0 AZN</span>
          </div>
        </div>
        
        <div class="payment-instructions">
          <h3>√ñd…ôni≈ü t…ôlimatlarƒ±</h3>
          <ol>
            <li>A≈üaƒüƒ±dakƒ± kart n√∂mr…ôsin…ô pul k√∂√ß√ºr√ºn</li>
            <li>√ñd…ôni≈ü √ßekini √ß…ôkin v…ô ya screenshot alƒ±n</li>
            <li>√áeki y√ºkl…ôyib t…ôsdiq √º√ß√ºn g√∂nd…ôrin</li>
          </ol>
          
          <div class="payment-card">
            <div class="card-number">4127 2093 0404 0404</div>
            <div class="card-name">DigitStore MMC</div>
            <div class="bank-name">Kapital Bank</div>
          </div>
        </div>

        <div class="receipt-upload">
          <label for="receiptFile">√ñd…ôni≈ü √ßekini y√ºkl…ôyin</label>
          <input type="file" id="receiptFile" accept="image/*,.pdf" onchange="previewReceipt()">
          <div id="receiptPreview"></div>
        </div>

        <div id="paymentTimer" class="muted" style="margin-top:15px;text-align:center;"></div>


        <div class="flex payment-form-actions">
          <button class="ghost" onclick="show('cart')">Geri</button>
          <button class="primary" onclick="submitPayment()" id="submitPaymentBtn" disabled>√ñd…ôni≈ü t…ôsdiq et</button>
        </div>
      </div>
    </section>

    <!-- AUTH -->
    <section id="auth" class="card hidden">
      <h2>Giri≈ü / Qeydiyyat</h2>
      <div class="auth-tabs">
        <button class="tab-btn active" onclick="switchTab('login')">Giri≈ü</button>
        <button class="tab-btn" onclick="switchTab('register')">Qeydiyyat</button>
      </div>
      
      <div id="loginTab" class="auth-tab active">
        <h3>Hesaba daxil ol</h3>
        <label>Email</label>
        <input id="logEmail" type="email" placeholder="username@gmail.com">
        <label>≈ûifr…ô</label>
        <input id="logPass" type="password" placeholder="password">
        <button class="primary full-width" onclick="login()">Daxil ol</button>
        <!-- <div class="demo-accounts">
          <div class="muted">Demo hesablar:</div>
          <div class="demo-item">Admin: <code>admin@digit.store</code> / <code>admin123</code></div>
          <div class="demo-item">Satƒ±cƒ±: <code>seller@demo.com</code> / <code>demo123</code></div>
        </div> -->
      </div>

      <div id="registerTab" class="auth-tab">
        <h3>Yeni hesab yarat</h3>
        <label>Email</label>
        <input id="regEmail" type="email" placeholder="username@gmail.com">
        <label>≈ûifr…ô</label>
        <input id="regPass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
        <label>≈ûifr…ôni t…ôkrarla</label>
        <input id="regPassConfirm" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
        <label>Rol</label>
        <select id="regRole">
          <option value="user">ƒ∞stifad…ô√ßi</option>
          <option value="seller">Satƒ±cƒ±</option>
        </select>
        <button class="primary full-width" onclick="register()">Qeydiyyatdan ke√ß</button>
      </div>
    </section>


    <!-- PROFILE -->
    <section id="profile" class="card hidden">
      <h2>Profilim</h2>
    
      <div class="profile-stats grid">
        <div class="stat-card">
          <h4>√úmumi sifari≈ü sayƒ±</h4>
          <p id="totalOrdersStat" class="stat-value">0</p>
        </div>
        <div class="stat-card">
          <h4>X…ôrcl…ôn…ôn m…ôbl…ôƒü</h4>
          <p id="totalSpentStat" class="stat-value">0 AZN</p>
        </div>
        <div class="stat-card">
          <h4>Son sifari≈ü tarixi</h4>
          <p id="lastOrderDate">-</p>
        </div>
      </div>
    
      <div class="profile-info">
        <h3>≈û…ôxsi m…ôlumatlar</h3>
        <p><strong>Email:</strong> <span id="profileEmail"></span></p>
        <p><strong>Qeydiyyat tarixi:</strong> <span id="profileCreated"></span></p>
      </div>
    
      <div class="profile-vip">
        <h3>Vƒ∞P Status</h3>
        <p id="vipStatus" class="muted">Hesablanƒ±r...</p>
      
        <div id="vipProgress">
          <div class="mission">
            <label>üõí M…ôhsul sayƒ± (20)</label>
            <div class="progress">
              <div id="itemsProgress" class="progress-bar"></div>
            </div>
            <small id="itemsProgressText">0 / 20</small>
          </div>
      
          <div class="mission">
            <label>üí∞ X…ôrcl…ôn…ôn m…ôbl…ôƒü (200 AZN)</label>
            <div class="progress">
              <div id="spentProgress" class="progress-bar"></div>
            </div>
            <small id="spentProgressText">0 / 200 AZN</small>
          </div>
        </div>
      </div>
      
      
      <div class="profile-payments">
        <h3>√ñd…ôni≈ü ke√ßmi≈üi</h3>
        <div id="profilePayments"></div>
      </div>
    
      <!-- ≈ûifr…ôni d…ôyi≈ü -->
      <div class="profile-password">
        <h3 style="cursor:pointer;" onclick="togglePasswordForm()">
          ≈ûifr…ôni d…ôyi≈ü <span id="passwordArrow">‚ñº</span>
        </h3>
        <div id="passwordForm" class="hidden">
          <label>K√∂hn…ô ≈üifr…ô</label>
          <input type="password" id="oldPass">
          <label>Yeni ≈üifr…ô</label>
          <input type="password" id="newPass">
          <button class="primary" onclick="changePassword()">Yenil…ô</button>
          <div id="passChangeResult" class="muted" style="margin-top:8px;"></div>
        </div>
      </div>
    </section>
    





    <!-- SELLER -->
<section id="seller" class="card hidden">
  <div class="seller-header">
    <div class="flex">
      <h2>Satƒ±cƒ± Paneli</h2>
      <span class="tag" id="sellerStatus">T…ôsdiq: g√∂zl…ôm…ôd…ô</span>
    </div>

    <!-- √áƒ±xarƒ±≈ü formu -->
    <section id="withdrawForm" class="card hidden">
      <h3>√áƒ±xarƒ±≈ü Anketi</h3>
      <div class="form-group">
        <label>Ad v…ô Soyad</label>
        <input type="text" id="wName" placeholder="M…ôs: Elg√ºn Sadƒ±qzad…ô">
      </div>
      <div class="form-group">
        <label>Kart n√∂mr…ôsi</label>
        <input type="text" id="wCard" placeholder="4127 XXXX XXXX XXXX">
      </div>
      <div class="form-group">
        <label>Telefon n√∂mr…ôsi</label>
        <input type="tel" id="wPhone" placeholder="+994501234567" pattern="^\+994\d{9}$">
      </div>
      <div class="form-group">
        <label>M…ôbl…ôƒü (AZN)</label>
        <input type="number" id="wAmount" min="1" step="0.01">
      </div>
      <button class="primary" onclick="submitWithdraw()">Sorƒüunu G√∂nd…ôr</button>
      <div id="withdrawResult" class="muted" style="margin-top:10px;"></div>
    </section>

    <div style="margin-top: 10px;">
      <button class="primary" onclick="toggleWithdrawForm()">√áƒ±xarƒ±≈ü et</button>
    </div>

    <div class="seller-stats">
      <div class="stat-card">
        <div class="stat-value" id="sellerRevenue">0 AZN</div>
        <div class="stat-label">G…ôlir (85%)</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="sellerOrders">0</div>
        <div class="stat-label">Satƒ±≈ü</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="sellerProducts">0</div>
        <div class="stat-label">M…ôhsul</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="sellerCommission">0 AZN</div>
        <div class="stat-label">Komissiya (15%)</div>
      </div>
    </div>
  </div>

  <div class="seller-content">
    <div class="seller-form">
      <h3>Yeni m…ôhsul …ôlav…ô et</h3>
      <div class="form-group">
        <label>M…ôhsul adƒ±</label>
        <input id="pName" placeholder="M…ôs: JavaScript Ba≈ülanƒüƒ±c Kursu">
      </div>
      <div class="form-group">
        <label>T…ôsvir</label>
        <textarea id="pDesc" rows="3" placeholder="M…ôhsul haqqƒ±nda …ôtraflƒ± m…ôlumat"></textarea>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Qiym…ôt (AZN)</label>
          <input id="pPrice" type="number" min="0" step="0.01" placeholder="25.00">
        </div>
        <div class="form-group">
          <label>Kateqoriya</label>
          <select id="pCat">
            <option>e-kitab</option>
            <option>audiokitab</option>
            <option>video kurs</option>
            <option>dizayn</option>
            <option>script</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label>M…ôhsul ≈ü…ôkli</label>
        <input id="pImg" type="file" accept="image/*" required>
        <div class="muted">≈û…ôkil …ôlav…ô etm…ôd…ôn m…ôhsul y√ºkl…ônm…ôy…ôc…ôk</div>
      </div>

      <div class="form-group">
        <label>Fayl linki</label>
        <input id="pFile" placeholder="https://‚Ä¶ v…ô ya data:application/pdf;base64,‚Ä¶">
        <div class="muted">Google Drive, Dropbox v…ô ya base64 formatƒ±nda</div>
      </div>
      <button id="addProductBtn" class="primary">M…ôhsul …ôlav…ô et</button>
    </div>

    <div class="seller-products">
      <h3>M…ôhsullarƒ±m</h3>
      <div class="table-container">
        <table class="table" id="myProducts"></table>
      </div>
    </div>
  </div>

  <div class="seller-history">
    <h3>√áƒ±xarƒ±≈ü Tarix√ß…ôsi</h3>
    <div class="table-container">
      <table class="table" id="withdrawHistory"></table>
    </div>
  </div>

  <div class="seller-earnings">
    <h3>G…ôlir hesabatƒ±</h3>
    <div id="earningsChart" class="earnings-container"></div>
  </div>
</section>




    <!-- ADMIN PANEL -->
<section id="admin" class="hidden">
  <h2>Admin paneli</h2>

  <!-- √úst statistika kartlarƒ± (updateAdminStats bunlarƒ± doldurur) -->
  <div class="grid" style="grid-template-columns: repeat(4, minmax(0, 1fr)); gap:12px;">
    <div class="card">
      <div class="muted">√úmumi d√∂vriyy…ô</div>
      <div class="price" id="totalRevenue">0 AZN</div>
    </div>
    <div class="card">
      <div class="muted">≈ûirk…ôt g…ôliri (15%)</div>
      <div class="price" id="companyRevenue">0 AZN</div>
    </div>
    <div class="card">
      <div class="muted">G√∂zl…ôy…ôn √∂d…ôni≈ül…ôr</div>
      <div class="price"><span id="pendingPayments">0</span></div>
    </div>
    <div class="card">
      <div class="muted">Aktiv istifad…ô√ßil…ôr</div>
      <div class="price"><span id="activeUsers">0</span></div>
    </div>
  </div>

  <!-- G√∂zl…ôy…ôn √∂d…ôni≈ül…ôr -->
  <div class="card" style="margin-top:14px;">
    <h3>G√∂zl…ôy…ôn √∂d…ôni≈ül…ôr</h3>
    <table class="table" id="pendingPaymentsTable"></table>
  </div>

  <!-- G√∂zl…ôy…ôn m…ôhsullar -->
  <div class="card" style="margin-top:14px;">
    <h3>G√∂zl…ôy…ôn m…ôhsullar</h3>
    <table class="table" id="pending"></table>
  </div>

  <!-- ƒ∞stifad…ô√ßil…ôr -->
  <div class="card" style="margin-top:14px;">
    <h3>ƒ∞stifad…ô√ßil…ôr</h3>
    <table class="table" id="users"></table>
  </div>

  <!-- Satƒ±≈ü qrafiki -->
  <div class="card" style="margin-top:14px;">
    <h3>Satƒ±≈ü statistikasƒ±</h3>
    <div id="salesChart"></div>
  </div>

  <!-- √áƒ±xarƒ±≈ü sorƒüularƒ± -->
  <div class="card" style="margin-top:14px;">
    <h3>√áƒ±xarƒ±≈ü sorƒüularƒ±</h3>
    <table class="table" id="withdrawTable"></table>
  </div>

  <!-- √ñd…ôni≈ü √ßeki modalƒ± (viewReceipt/closePaymentModal √º√ß√ºn) -->
  <div id="paymentModal" class="hidden">
    <div class="card" style="max-width: 800px; margin: 16px auto;">
      <h3>√ñd…ôni≈ü detallarƒ±</h3>
      <div id="paymentDetails" class="muted" style="margin-bottom:10px;"></div>
      <div id="receiptViewer" style="margin:10px 0;"></div>
      <div style="text-align:right;">
        <button class="ghost" type="button" onclick="closePaymentModal()">Baƒüla</button>
      </div>
    </div>
  </div>
</section>


    <!-- ORDERS (USER) -->
    <section id="orders" class="card hidden">
      <div class="flex">
        <h2>Alƒ±≈ülarƒ±m</h2>
        <div class="spacer"></div>
        <span class="muted">√ñd…ôni≈ü t…ôsdiql…ôn…ônd…ôn sonra y√ºkl…ôm…ô linki a√ßƒ±lƒ±r</span>
      </div>
      <div id="orderList"></div>
    </section>

        <!-- PAYMENT CONFIRMATION MODAL -->
        <div id="paymentModal" class="modal hidden">
          <div class="modal-content">
            <div class="modal-header">
              <h3>√ñd…ôni≈ü t…ôf…ôrr√ºatlarƒ±</h3>
              <button class="close-btn" onclick="closePaymentModal()">&times;</button>
            </div>
            <div class="modal-body">
              <div id="paymentDetails"></div>
              <div class="receipt-viewer">
                <h4>Y√ºkl…ônmi≈ü √ßek</h4>
                <div id="receiptViewer"></div>
              </div>
              <div class="admin-actions">
                <button class="success" onclick="confirmPayment()">√ñd…ôni≈üi t…ôsdiq et</button>
                <button class="danger" onclick="rejectPayment()">R…ôdd et</button>
              </div>
            </div>
          </div>
        </div>
    
        <!-- PRODUCT REJECT MODAL -->
        <div id="rejectModal" class="modal hidden">
          <div class="modal-content">
            <div class="modal-header">
              <h3>M…ôhsulu r…ôdd et</h3>
              <button class="close-btn" onclick="closeRejectModal()">&times;</button>
            </div>
            <div class="modal-body">
              <label for="rejectReason">S…ôb…ôb:</label>
              <textarea id="rejectReason" rows="3" placeholder="R…ôdd etm…ô s…ôb…ôbini yazƒ±n..."></textarea>
              <div class="modal-actions" style="margin-top: 1rem; display:flex; gap:10px; justify-content:flex-end;">
                <button class="ghost" onclick="closeRejectModal()">L…ôƒüv et</button>
                <button class="danger" onclick="confirmReject()">R…ôdd et</button>
              </div>
            </div>
          </div>
        </div>
      </main>
    
      <!-- Footer Section -->
<footer class="footer">
  <div class="container footer-grid">
    
    <!-- Brand -->
    <div class="footer-brand">
      <div class="logo">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
          <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
        </svg>
      </div>
      <span class="brand-text">DigitStore.az</span>
      <p class="footer-text">S√ºr…ôtli y√ºkl…ôm…ô, t…ôhl√ºk…ôsiz √∂d…ôni≈ü v…ô y√ºzl…ôrl…ô se√ßim ‚Äî hamƒ±sƒ± DigitStore.az-da.S…ônd…ô √∂z maƒüazanƒ± qur.</p>
    </div>

    <!-- Links -->
    <div class="footer-links">
      <h4>Ke√ßidl…ôr</h4>
      <ul>
        <li><a href="#" onclick="show('landing')">Ana s…ôhif…ô</a></li>
        <li><a href="#" onclick="show('home')">M…ôhsullar</a></li>
        <li><a href="#" onclick="show('about')">Haqqƒ±mƒ±zda</a></li>
      </ul>
    </div>

    <!-- Contact -->
    <div class="footer-contact">
      <h4>∆èlaq…ô</h4>
      <p><strong>Email:</strong> digitstore-az@gmail.com</p>
      <p><strong>Tel:</strong> +994 51 407 ‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢</p>
      <div class="social-links">
        <a href="https://www.instagram.com/seninprofil" target="_blank" class="social-link">
          <i class="fab fa-instagram"></i>
        </a>
        <a href="https://www.tiktok.com/@seninprofil" target="_blank" class="social-link">
          <i class="fab fa-tiktok"></i>
        </a>
        <a href="https://wa.me/994501234567" target="_blank" class="social-link">
          <i class="fab fa-whatsapp"></i>
        </a>
      </div>
      
    </div>

  </div>

  <div class="footer-bottom">
    <p>¬© 2025 <span>DigitStore.az</span>. B√ºt√ºn h√ºquqlar qorunur.</p>
  </div>
</footer>

<!-- Toast Notifications -->
<div id="toastContainer" class="toast-container"></div>

<div id="productModal" class="modal hidden">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="modalProductName"></h3>
      <button class="close-btn" onclick="closeProductModal()">√ó</button>
    </div>
    <div class="modal-body" id="modalProductBody"></div>
  </div>
</div>


  <script src="script.js"></script>
  <script>
     // Dinamik statistikalarƒ± localStorage-dan g√∂t√ºrm…ôk
     try {
      const products = JSON.parse(localStorage.getItem('dm_products')||'[]');
      const users = JSON.parse(localStorage.getItem('dm_users')||'[]');
      const orders = JSON.parse(localStorage.getItem('dm_orders')||'[]');
      const p = products.length || 200;
      const s = users.filter(u=>u.role==='seller').length || 80;
      const d = (orders.reduce((a,o)=>a+(o.items?.length||0),0)*10) || 100000;
      const fmt = (n)=> n>999 ? (Math.round(n/100)/10)+'K+' : n;
      document.getElementById('heroProducts').textContent = fmt(p);
      document.getElementById('heroSellers').textContent = fmt(s);
      document.getElementById('heroDownloads').textContent = fmt(d);
    } catch(e) {}
  </script>
</body>
</html>